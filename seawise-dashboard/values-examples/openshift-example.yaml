# ============================================================================
# EXAMPLE: OpenShift Installation with Route
# ============================================================================
# This is an example configuration to install Seawise Dashboard on an
# OpenShift cluster with OADP

image:
  repository: shwcloud/seawise-backup
  tag: "v1.5.12"
  pullPolicy: IfNotPresent

app:
  # Default OADP namespace on OpenShift
  veleroNamespace: "openshift-adp"

  # Timezone - adjust according to your location
  timezone: "America/Sao_Paulo"

  # IMPORTANT: Generate a secure secret key for production!
  # openssl rand -hex 32
  secretKey: ""

persistence:
  enabled: true
  # Adjust according to your cluster's available storage class
  storageClassName: "nfs-storage-class"
  size: 1Gi

# OpenShift uses Route instead of Ingress
route:
  enabled: true
  # Leave empty for auto-generated hostname
  host: ""
  tls:
    enabled: true
    termination: edge
    # insecureEdgeTerminationPolicy: Redirect  # Uncomment to force HTTPS redirect

# Ingress should be disabled on OpenShift
ingress:
  enabled: false

resources:
  requests:
    cpu: 250m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# OpenShift has SCCs (Security Context Constraints)
# Let OpenShift manage the UID/GID automatically based on namespace ranges
# Do NOT specify runAsUser/fsGroup for OpenShift!
podSecurityContext:
  runAsNonRoot: true

securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: false
  runAsNonRoot: true
